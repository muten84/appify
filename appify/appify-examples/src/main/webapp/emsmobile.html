<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Ems Mobile App</title>

<!-- Sets initial viewport load and disables zooming  -->
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

<!-- Makes your prototype chrome-less once bookmarked to your phone's home screen -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">


<link href="emsmobile/ratchet/css/ratchet.css" rel="stylesheet">
<link href="emsmobile/snapjs/snap.css" rel="stylesheet">
<link href="emsmobile/css/font-awesome.min.css" rel="stylesheet">
<!-- for docs http://fortawesome.github.io/Font-Awesome/emsmobiles/ -->
<link href="emsmobile/appjs/app.min.css" rel="stylesheet">
<link href="emsmobile/popover/popover.css" rel="stylesheet">
<!-- PUT HERE ALL YOUR CUSTOM CSS REFS -->
<link href="custom.css" rel="stylesheet">

</head>
<body>
	<script type="text/javascript" language="javascript"
		src="emsmobile/emsmobile.nocache.js"></script>
	<iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1'
		style="position: absolute; width: 0; height: 0; border: 0"></iframe>

	<!-- PUT HERE YOUR HTML VIEWS -->
<div class="app-page" id="activationPage" data-page="activationPage">
	<div id="content" class="content snap-content">
		<div class="app-topbar">
			<!-- HEADER SECTION -->
			<header class="bar bar-nav app-title topbar-height">
				<!-- <button id="backBtn" class="btn btn-nav pull-left">
					<span class="fa fa-arrow-left  fa-2x"></span>
				</button> -->
				<button class="btn btn-nav pull-left">
					<span class="fa fa-ambulance fa-2x pull-left">{{barStatus.vehicleCode}}</span>
				</button>
				<button id="gpsStateBtn"
					class="btn btn-nav pull-right {{barStatus.gpsStatus}}">
					<span class="fa fa-map-marker fa-2x"></span>
				</button>
				<button id="batteryStateBtn"
					class="btn btn-nav pull-right {{barStatus.batteryStatus}}">
					<span class="fa fa-bolt fa-2x"></span>
				</button>
				<button id="connectionStateBtn"
					class="btn btn-nav pull-right {{barStatus.connectionStatus}}">
					<span class="fa fa-rss fa-2x"></span>
				</button>
			</header>

		</div>
		<!--END  HEADER SECTION -->

		<div id="activationContent" class="app-content">
			<!--CONTENT SECTION -->
			<div class="app-section">
				<!--CONTENT SECTION -->
				<!-- TAB SWITCH DELLE CARD -->
				<div class="segmented-control">
					<a id="itemEmergencyData"
						class="control-item activation-bar-height active">Dati
						Emergenza </a> <a id="itemAddressData"
						class="control-item activation-bar-height">Dettaglio Indirizzo
					</a> <a id="itemNoteData" class="control-item activation-bar-height">Dettaglio
						Note </a>
				</div>
				<!-- CARDS-->
				<div class="card">

					<!-- CARD EMERGENCY DATA -->
					<div id="cardEmergencyData"
						class="app-section control-content active">

						<ul class="table-view">
							<li
								class="table-view-divider activation-criticity-{{activation.criticity}}">Dati
								Emergenza {{activation.emergencyId}} -
								{{activation.place}}{{activation.pathology}}{{activation.criticity}}
							</li>
							<li class="table-view-divider">Indirizzo</li>
							<li class="table-view-cell">{{activation.addressSummary}}</li>
							<li class="table-view-divider">Note</li>
							<li class="table-view-cell">{{activation.noteSummary}}</li>
						</ul>
					</div>
					<!-- END CARD EMERGENCY DATA -->

					<!-- CARD ADDRESS DATA -->
					<div id="cardAddressData" class="app-section control-content">

						<ul class="table-view">
							<li
								class="table-view-divider activation-criticity-{{activation.criticity}}">Dati
								Emergenza {{activation.emergencyId}} -
								{{activation.place}}{{activation.pathology}}{{activation.criticity}}
							</li>
							<li class="table-view-divider">Indirizzo</li>
							<li class="table-view-cell">{{activation.addressSummary}}</li>
							<li class="table-view-divider">Note Strada:</li>
							<li class="table-view-cell">{{activation.address.streetNote}}</li>
							<li class="table-view-divider">Note Localit&grave;:</li>
							<li class="table-view-cell">{{activation.address.localityNote}}</li>
							<li class="table-view-divider">Note Luogo Pubblico:</li>
							<li class="table-view-cell">{{activation.address.pLocationNote}}</li>
						</ul>
					</div>
					<!-- END CARD ADDRESS DATA -->

					<!-- CARD NOTE DATA -->
					<div id="cardNoteData" class="app-section control-content">

						<span>Dettaglio Note</span>
					</div>
					<!-- END CARD NOTE DATA -->

				</div>
				<!-- END CARDS-->
			</div>

		</div>


		<!--  -->
		<nav class="bar bar-standard bar-footer bottombar-height">
			<a class="pull-left">
				<button id="sendBtn" class="btn btn-block pull-left">
					<span class="fa fa-play-circle-o fa-2x"></span> <span
						class="tab-label">PARTENZA</span>
				</button>
			</a> <a class="pull-left">
				<button id="placeArrivalBtn" class="btn btn-block pull-left">
					<span class="fa fa-map-marker fa-2x"></span> <span
						class="tab-label">ARRIVO</span>
				</button>
			</a> <a class="pull-left">
				<button id="departureBtn" class="btn btn-block pull-left">
					<span class="fa fa-arrow-circle-right fa-2x"></span> <span
						class="tab-label">PARTENZA</span>
				</button>
			</a> <a class="pull-left">
				<button id="hospitalArrivalBtn" class="btn btn-block pull-left">
					<span class="fa fa-hospital-o fa-2x"></span> <span
						class="tab-label">OSPEDALE</span>
				</button>
			</a> <a class="pull-left">
				<button id="clousureBtn" class="btn btn-block pull-left">
					<span class="fa fa-flag-checkered fa-2x"></span> <span
						class="tab-label">CHIUSURA</span>
				</button>
			</a>
		</nav>
	</div>
</div><div class="app-page" id="dumpPage" data-page="dumpPage">
	<!-- MODAL -->
	<div id="intervIncomeModal" class="modal">
		<header class="bar bar-nav">
			<!-- <a id="closeWaitModalBtn" class="icon icon-close pull-right"></a> -->
			<h1 class="title">Nuovo Intervento</h1>
		</header>

		<div class="content">
			<div class="loader"></div>
			<div id="intervIncomeModalText" class="app-section"
				style="text-align: center;">Nuovo Intervento dalla Centrale Operativa!!</div>
			<button id="confirmModalBtn"
					class="btn btn-block">
					<span class="fa fa-check-circle-o fa-4x"></span>
			</button>
		</div>
	</div>
	<div id="waitModal" class="modal">
		<header class="bar bar-nav">
			<a id="closeWaitModalBtn" class="icon icon-close pull-right"></a>
			<h1 class="title">Richiesta in corso...</h1>
		</header>

		<div class="content">
			<div class="loader"></div>
			<div id="waitModalText" class="app-section"
				style="text-align: center;">...</div>
		</div>
	</div>
	<!-- MENU -->
	<div class="snap-drawers">
		<div class="snap-drawer snap-drawer-left">
			<div class="app-section">
				<a id="checkInBtn" class="btn btn-block">{{checkInLabel}}</a>
				<button id="manageEquipButton" class="btn btn-block">Gestione
					Equipaggio</button>
				<button id="lastEmergencyBtn" class="btn btn-block">Ultima
					Emergenza</button>
			</div>
		</div>
		<div class="snap-drawer snap-drawer-right"></div>
	</div>
	<div id="content" class="content snap-content">

		<div class="app-topbar">
			<header class="bar bar-nav app-title topbar-height">

				<button id="showMenuBtn" class="btn btn-nav pull-left">
					<span class="icon icon-bars"></span>
				</button>
				<button class="btn btn-nav pull-left">
					<span class="fa fa-ambulance fa-2x pull-left">{{barStatus.vehicleCode}}</span>
				</button>
				<button id="gpsStateBtn"
					class="btn btn-nav pull-right {{barStatus.gpsStatus}}">
					<span class="fa fa-map-marker fa-2x"></span>
				</button>
				<button id="batteryStateBtn"
					class="btn btn-nav pull-right {{barStatus.batteryStatus}}">
					<span class="fa fa-bolt fa-2x"></span>
				</button>
				<button id="connectionStateBtn"
					class="btn btn-nav pull-right {{barStatus.connectionStatus}}">
					<span class="fa fa-rss fa-2x"></span>
				</button>
			</header>
		</div>
		<div class="app-content">
			<iframe id="dumpFrame" class="app-section"
				style="width: 98%; height: 98%" src="{{dumpUrl}}"></iframe>
			<!-- visualizzare qui il dump di bologna -->
		</div>
	</div>
	<nav class="bottombar-height bar bar-tab">
		<a class="tab-item">
			<button id="refreshDumpBtn" class="btn btn-nav">
				<span class="icon fa fa-refresh"></span> <span class="tab-label">Aggiorna
					Dump</span>
			</button>
		</a> <a class="tab-item">
			<button class="btn btn-nav">
				<span class="icon fa fa-exclamation-circle"></span> <span
					class="tab-label">Codici Rossi</span>
			</button>
		</a>
		<!-- <a class="tab-item" href="#"> <span
				class="icon fa fa-exclamation-circle fa-4x"></span> <span
				class="tab-label">Cod. Rossi</span></a> <a class="tab-item" href="#">
				<span class="icon icon-person"></span> <span class="tab-label">Profile</span>
			</a> <a class="tab-item" href="#"> <span
				class="icon icon-star-filled"></span> <span class="tab-label">Favorites</span>
			</a> <a class="tab-item" href="#"> <span class="icon icon-search"></span>
				<span class="tab-label">Search</span>
			</a> <a class="tab-item" href="#"> <span class="icon icon-gear"></span>
				<span class="tab-label">Settings</span>
			</a> -->
	</nav>

</div><div class="app-page" id="vehiclesPage" data-page="vehiclesPage">
	<div id="waitModal" class="modal">
		<header class="bar bar-nav">
			<a id="closeWaitModalBtn" class="icon icon-close pull-right"
				></a>
			<h1 class="title">Mezzo selezionato</h1>
		</header>

		<div class="content">
			<div class="loader"></div>
			<div id="waitModalText" class="app-section"
				style="text-align: center;">...</div>
		</div>
	</div>
	<div id="content" class="content snap-content">
		<div class="app-topbar">
			<header class="bar bar-nav app-title topbar-height">
				<button id="backBtn" class="btn btn-nav pull-left">
					<span class="fa fa-arrow-left  fa-2x"></span>
				</button>
				<button id="gpsStateBtn"
					class="btn btn-nav pull-right {{barStatus.gpsStatus}}">
					<span class="fa fa-map-marker fa-2x"></span>
				</button>
				<button id="batteryStateBtn"
					class="btn btn-nav pull-right {{barStatus.batteryStatus}}">
					<span class="fa fa-bolt fa-2x"></span>
				</button>
				<button id="connectionStateBtn"
					class="btn btn-nav pull-right {{barStatus.connectionStatus}}">
					<span class="fa fa-rss fa-2x"></span>
				</button>
			</header>
		</div>
		<div class="app-content">
			<div class="app-section">
				<ul id="vehicleList" v-repeat="section: vehicles" class="table-view">
				<li	class="table-view-cell media">
							<span class="media-object pull-left fa fa-flag"></span>
							<div class="media-body">{{section.sectionName}}</div>
					</li>				
					<li v-repeat="vehicle: section.items " v-on="click: onData(this,$event)"
						class="table-view-cell media"><a class="navigate-right">
							<span class="media-object pull-left fa fa-ambulance"></span>
							<div class="media-body">{{vehicle.itemName}}</div>
					</a></li>
				</ul>
			</div>
			<!-- <div class="app-section">
				<ul id="listOfItems2" class="table-view">

					<li v-repeat="items2" v-on="click: onData(this,$event)"
						class="table-view-cell media"><a class="navigate-right">
							<span class="media-object pull-left icon icon-pages"></span>
							<div class="media-body">{{$value}}</div>
					</a></li>
				</ul>
			</div> -->
		</div>
	</div>
</div>
	<script src="emsmobile/appjs/zepto.js"></script>
	<script src="emsmobile/appjs/app.min.js"></script>
	<script src="emsmobile/vuejs/vue.js"></script>
	<script src="emsmobile/ratchet/js/ratchet.js"></script>
	<script src="emsmobile/snapjs/snap.js"></script>
	<script src="emsmobile/popover/jquery.js" type="text/javascript"></script>
	<script src="emsmobile/classie/classie.js" type="text/javascript"></script>
	<script src="emsmobile/popover/popover.js" type="text/javascript"></script>

<!--FOOTER BAR COMPONENT -->
<script type="text/javascript">
Vue.component('emsmobile-footerbar', {
  template: "<nav class='bottombar-height bar bar-tab'>"+
		"<a class='tab-item'>"+
		"	<button id='refreshDumpBtn' class='btn btn-nav'>"+
		"		<span class='icon fa fa-refresh'></span> <span class='tab-label'>Aggiorna"+
		"			Dump</span>"+
		"	</button>"+
		"</a> <a class='tab-item'>"+
		"	<button class='btn btn-nav'>"+
		"		<span class='icon fa fa-exclamation-circle'></span> <span"+
		"			class='tab-label'>Codici Rossi</span>"+
		"	</button>"+
		"</a>	"+
	"</nav>"
})
</script><!--HEADER BAR COMPONENT -->
<script type="text/javascript">
	Vue
			.component(
					'emsmobile-headerbar',
					{
						template : ""
								+ "<header class='bar bar-nav app-title topbar-height'>"
								+ "	<button id='showMenuBtn' class='btn btn-nav pull-left'>"
								+ "		<span class='icon icon-bars'></span>"
								+ "	</button>"
								+ "	<button class='btn btn-nav pull-left'>"
								+ "		<span class='fa fa-ambulance fa-2x pull-left'>{{vehicleCode}}</span>"
								+ "	</button>"
								+ "	<button id='gpsStateBtn'"+
			"		class='btn btn-nav pull-right {{gpsStatus}}'>"
								+ "		<span class='fa fa-map-marker fa-2x'></span>"
								+ "	</button>"
								+ "	<button id='batteryStateBtn'"+
			"		class='btn btn-nav pull-right {{batteryStatus}}'>"
								+ "		<span class='fa fa-bolt fa-2x'></span>"
								+ "	</button>"
								+ "	<button id='connectionStateBtn'"+
			"		class='btn btn-nav pull-right {{connectionStatus}}'>"
								+ "		<span class='fa fa-rss fa-2x'></span>"
								+ "	</button>" + "</header>"
					});
</script>	
</body>
</html>
