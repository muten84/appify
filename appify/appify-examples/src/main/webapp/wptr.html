<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<title>Web Pull To Refresh 1.1</title>

<meta name="viewport"
	content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="emsmobile/wptr/genericons/genericons.css">
<link rel="stylesheet" href="emsmobile/wptr/base.css">
</head>

<body>
	<div id="ptr">
		<span class="genericon genericon-next"></span>

		<div class="loading">
			<span id="l1"></span> <span id="l2"></span> <span id="l3"></span>
		</div>
	</div>

	<div id="pullable">Pull down to refresh!</div>

	<script src="emsmobile/wptr/hammer.2.0.4.js"></script>
	<script src="emsmobile/wptr/wptr.1.1.js"></script>

	<script>
		window.onload = function() {
			WebPullToRefresh.init({
				//contentEl : document.getElementById('pullable'),
				loadingFunction : exampleLoadingFunction
			});
		};

		// Just an example loading function that returns a
		// promise that WebPullToRefresh can use.
		var exampleLoadingFunction = function() {
			return new Promise(function(resolve, reject) {
				// Run some async loading code here
				console.log('exampleLoadingFunction....');
				if (true /* if the loading worked */) {
					console.log('resolve');
					resolve();					
				} else {
					console.log('reject');
					reject();
					
				}
			});
		};
	</script>
</body>

</html>