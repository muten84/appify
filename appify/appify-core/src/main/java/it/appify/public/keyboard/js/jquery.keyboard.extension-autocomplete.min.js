/*! jQuery UI Virtual Keyboard Autocomplete v1.9 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";a.fn.addAutocomplete=function(){return this.each(function(){var b=a(this).data("keyboard");b&&(b.autocomplete_new_version=function(a){return a[0]=parseInt(a[0],10),a[0]>1||1===a[0]&&parseInt(a[1],10)>=9}(a.ui.version.split(".")),b.autocomplete_namespace=b.namespace+"Autocomplete",b.autocomplete_init=function(){b.options.alwaysOpen&&b.isVisible()&&b.autocomplete_setup(),b.$el.unbind(b.autocomplete_namespace).bind(a.keyboard.events.kbVisible+b.autocomplete_namespace,function(){b.autocomplete_setup()}).bind(a.keyboard.events.kbChange+b.autocomplete_namespace,function(){b.hasAutocomplete&&b.isVisible()&&b.$el.val(b.$preview.val()).trigger("keydown.autocomplete")}).bind(a.keyboard.events.kbHidden+b.autocomplete_namespace,function(){b.$el.autocomplete("close")}).bind("autocompleteopen"+b.autocomplete_namespace,function(){b.hasAutocomplete&&b.$autocomplete.menu.element.position({of:b.$keyboard,my:"right top",at:"left top",collision:"flip"})}).bind("autocompleteselect"+b.autocomplete_namespace,function(a,c){var d=c.item&&c.item.value||"";b.hasAutocomplete&&""!==d&&(b.$preview.val(d).focus(),b.last.start=d.length,b.last.end=d.length)})},b.autocomplete_setup=function(){b.$autocomplete=b.$el.data("autocomplete")||b.$el.data("uiAutocomplete")||b.$el.data("ui-autocomplete"),b.hasAutocomplete="undefined"==typeof b.$autocomplete?!1:b.$autocomplete.options.disabled?!1:!0,b.hasAutocomplete&&(b.$preview.bind("keydown"+b.autocomplete_namespace,function(a){b.$el.val(b.$preview.val()).triggerHandler(a)}),b.$allKeys.bind("mouseup mousedown mouseleave touchstart touchend touchcancel ".split(" ").join(b.autocomplete_namespace+" "),function(a){clearTimeout(b.$autocomplete.searching);var c=a;b.$autocomplete.searching=setTimeout(function(){b.$autocomplete.term!==b.$autocomplete.element.val()&&(b.$autocomplete.selectedItem=null,b.$autocomplete.search(null,c))},b.$autocomplete.options.delay)}))},b.origEscClose=b.escClose,b.escClose=function(c){(!b.hasAutocomplete||"ui-active-menuitem"!==c.target.id&&!a(c.target).closest("ul").hasClass("ui-autocomplete"))&&b.origEscClose(c)},b.autocomplete_init())})}});